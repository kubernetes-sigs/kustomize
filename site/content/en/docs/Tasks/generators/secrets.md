---
title: "Generating Secrets"
linkTitle: "Generating Secrets"
weight: 2
date: 2023-10-06
description: >
  Creating Secret objects using `secretGenerator`
---

Secret objects can be generated by adding a `secretGenerator` entry to the `kustomization.yaml` file.

## Creating a TLS Secret

The following example generates a TLS Secret with certificate and private key data files.

1. Create a Kustomization file.
```yaml
# kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
secretGenerator:
- name: app-tls
  files:
    - "tls.crt"
    - "tls.key"
  type: "kubernetes.io/tls"
```

2. Create a certificate file.
```yaml
# tls.crt
LS0tLS1CRUd...tCg==
```

3. Create a private key file.
```yaml
# tls.key
LS0tLS1CRUd...0tLQo=
```

4. Create the Secret using `kustomize build`:
```bash
kustomize build .
```

5. The output is similar to:
```yaml
apiVersion: v1
data:
  tls.crt: TFMwdExTMUNSVWQuLi50Q2c9PQ==
  tls.key: TFMwdExTMUNSVWQuLi4wdExRbz0=
kind: Secret
metadata:
  name: app-tls-c888dfbhf8
type: kubernetes.io/tls
```

{{< alert color="warning" title="Important" >}}
It is important to note that the secrets are `base64` encoded
{{< /alert >}}
